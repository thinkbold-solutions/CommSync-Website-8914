import React, { useEffect } from 'react';
import { Globe, AlertTriangle, Shield, TrendingDown, Search, Users, Smartphone, BarChart, CheckCircle, Clock, Target, Zap } from 'lucide-react';

const DigitalVulnerabilityAssessment = () => {
  useEffect(() => {
    // Load the YouConnect marketing audit script
    const script = document.createElement('script');
    script.src = 'https://services.leadconnectorhq.com/prospecting/client/widget_script.js';
    script.type = 'text/javascript';
    script.async = true;
    document.body.appendChild(script);

    return () => {
      if (document.body.contains(script)) {
        document.body.removeChild(script);
      }
    };
  }, []);

  const vulnerabilityIndicators = [
    {
      icon: Search,
      title: 'Search Invisibility',
      description: 'When crisis hits, people search for information. If you\'re not found, rumors fill the void.',
      impact: 'Crisis messages never reach worried stakeholders'
    },
    {
      icon: Users,
      title: 'Social Media Weakness',
      description: 'Weak social presence means no platform to counter misinformation during crisis.',
      impact: 'False narratives spread faster than official responses'
    },
    {
      icon: Smartphone,
      title: 'Mobile Unreadiness',
      description: 'Crisis communication happens on mobile. Poor mobile experience = lost trust.',
      impact: 'Critical updates become inaccessible when needed most'
    },
    {
      icon: TrendingDown,
      title: 'Content Gaps',
      description: 'Sparse online content means no foundation of trust before crisis strikes.',
      impact: 'No credibility bank to draw from during critical moments'
    }
  ];

  const crisisScenarios = [
    {
      scenario: 'Emergency Evacuation Order',
      withWeakDigital: 'Evacuation notice buried in search results, social media chaos, mobile site crashes',
      withStrongDigital: 'Clear, mobile-optimized updates, verified social channels, SEO-optimized emergency info',
      difference: 'Life-saving information reaches everyone vs. dangerous confusion'
    },
    {
      scenario: 'Corporate Crisis Response',
      withWeakDigital: 'Official response lost in noise, negative content dominates search, no social authority',
      withStrongDigital: 'Authoritative response ranks first, social channels control narrative, mobile-ready crisis page',
      difference: 'Reputation protection vs. reputation destruction'
    }
  ];

  const ecosystemBenefits = [
    {
      icon: Shield,
      title: 'Crisis Communication Training',
      description: 'CommSync builds your team\'s crisis response capabilities',
      provider: 'CommSync Expertise'
    },
    {
      icon: Globe,
      title: 'Digital Foundation',
      description: 'YouConnect creates the digital infrastructure to amplify your expert response',
      provider: 'YouConnect Partnership'
    },
    {
      icon: Zap,
      title: 'Integrated Preparedness',
      description: 'Combined approach ensures your crisis communication reaches maximum impact',
      provider: 'Ecosystem Advantage'
    }
  ];

  const assessmentIncludes = [
    'Website crisis-readiness evaluation',
    'Search visibility for emergency terms',
    'Social media authority assessment',
    'Mobile emergency experience audit',
    'Content gap analysis for trust-building',
    'Crisis communication amplification potential',
    'Integration readiness with crisis protocols',
    'Competitive digital positioning review'
  ];

  return (
    <section className="py-20 bg-gradient-to-r from-red-500/5 to-orange-500/5">
      <div className="container mx-auto px-4">
        <div className="max-w-6xl mx-auto">
          {/* Header */}
          <div className="text-center mb-16">
            <div className="w-20 h-20 bg-gradient-to-r from-primary-red to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6">
              <AlertTriangle size={40} className="text-white animate-pulse" />
            </div>
            <h2 className="text-4xl md:text-5xl font-primary font-bold mb-6">
              <span className="text-gradient">Digital Vulnerability Assessment</span>
            </h2>
            <div className="mb-6">
              <p className="text-2xl text-gray-300 mb-4 font-light">
                You Can't Protect a Reputation That's Already Digitally Vulnerable
              </p>
              <div className="p-4 bg-red-500/10 rounded-lg border border-red-500/30 max-w-3xl mx-auto">
                <p className="text-red-400 font-semibold mb-2">‚ö†Ô∏è Crisis Reality Check:</p>
                <p className="text-gray-300">Perfect crisis communication skills are useless if your digital foundation can't amplify your expert response when it matters most.</p>
              </div>
            </div>
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-stretch">
            {/* Left Column - Vulnerability Analysis */}
            <div className="order-2 lg:order-1 flex flex-col">
              {/* Vulnerability Indicators */}
              <div className="mb-12 flex-grow">
                <h3 className="text-2xl font-primary font-bold mb-6 text-light-text">
                  How Digital Weakness Amplifies Crisis Impact
                </h3>
                <div className="space-y-6">
                  {vulnerabilityIndicators.map((indicator, index) => {
                    const IconComponent = indicator.icon;
                    return (
                      <div key={index} className="bg-dark-background/50 rounded-lg p-6 border border-red-500/20">
                        <div className="flex items-start space-x-4">
                          <IconComponent size={24} className="text-red-400 mt-1 flex-shrink-0" />
                          <div>
                            <h4 className="font-semibold text-light-text mb-2">{indicator.title}</h4>
                            <p className="text-gray-300 text-sm mb-2">{indicator.description}</p>
                            <div className="p-2 bg-red-500/10 rounded border-l-3 border-red-500">
                              <p className="text-red-300 text-sm font-semibold">Crisis Impact: {indicator.impact}</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>
              </div>

              {/* Crisis Scenarios Comparison */}
              <div className="mb-8">
                <h3 className="text-2xl font-primary font-bold mb-6 text-light-text">
                  Crisis Scenario: Digital Foundation Matters
                </h3>
                <div className="space-y-6">
                  {crisisScenarios.map((scenario, index) => (
                    <div key={index} className="bg-dark-background border border-gray-accents rounded-xl p-6">
                      <h4 className="font-semibold text-primary-red mb-4">{scenario.scenario}</h4>
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div className="p-3 bg-red-500/10 rounded border border-red-500/30">
                          <h5 className="font-semibold text-red-400 mb-2">Weak Digital Foundation:</h5>
                          <p className="text-gray-300 text-sm">{scenario.withWeakDigital}</p>
                        </div>
                        <div className="p-3 bg-green-500/10 rounded border border-green-500/30">
                          <h5 className="font-semibold text-green-400 mb-2">Strong Digital Foundation:</h5>
                          <p className="text-gray-300 text-sm">{scenario.withStrongDigital}</p>
                        </div>
                      </div>
                      <div className="p-3 bg-primary-blue/10 rounded border border-primary-blue/30">
                        <p className="text-primary-blue font-semibold text-sm">The Difference: {scenario.difference}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            {/* Right Column - Assessment Form - Stretched to match left column height */}
            <div className="order-1 lg:order-2 flex flex-col">
              <div className="bg-dark-background rounded-xl p-8 border border-red-500/30 shadow-2xl flex flex-col h-full">
                {/* Header Section */}
                <div className="text-center mb-6 flex-shrink-0">
                  <Globe size={48} className="text-primary-red mx-auto mb-4" />
                  <h3 className="text-2xl font-primary font-bold text-light-text mb-2">
                    Free Digital Vulnerability Audit
                  </h3>
                  <p className="text-gray-300 mb-4">
                    Discover how your current digital presence would perform during a crisis situation
                  </p>
                  
                  {/* Assessment Includes */}
                  <div className="text-left mb-6">
                    <h4 className="font-semibold text-light-text mb-3">Your Comprehensive Audit Includes:</h4>
                    <div className="grid grid-cols-1 gap-2">
                      {assessmentIncludes.map((item, index) => (
                        <div key={index} className="flex items-center space-x-2">
                          <CheckCircle size={14} className="text-primary-blue flex-shrink-0" />
                          <span className="text-gray-300 text-sm">{item}</span>
                        </div>
                      ))}
                    </div>
                  </div>

                  {/* Value Indicators */}
                  <div className="flex justify-center space-x-6 mb-6 text-sm">
                    <div className="flex items-center space-x-1">
                      <Shield size={16} className="text-green-400" />
                      <span className="text-green-400">100% Free</span>
                    </div>
                    <div className="flex items-center space-x-1">
                      <Clock size={16} className="text-blue-400" />
                      <span className="text-blue-400">Instant Results</span>
                    </div>
                    <div className="flex items-center space-x-1">
                      <Target size={16} className="text-primary-red" />
                      <span className="text-primary-red">Crisis-Focused</span>
                    </div>
                  </div>
                </div>

                {/* Assessment Form Embed - Flexible height to fill available space */}
                <div className="digital-audit-embed bg-gray-800/30 rounded-lg border border-gray-600/30 flex-grow min-h-[600px]">
                  <iframe
                    id='prospecting-widget-digital'
                    src='https://services.leadconnectorhq.com/prospecting/widgets/load/6827c9cf1647e13a0ec02497'
                    frameBorder='0'
                    style={{
                      display: 'block',
                      width: '100%',
                      height: '100%',
                      minHeight: '600px',
                      border: 'none',
                      borderRadius: '8px',
                      backgroundColor: 'transparent'
                    }}
                    title="Digital Vulnerability Assessment"
                  />
                </div>

                {/* Partnership Notice - Fixed at bottom */}
                <div className="mt-6 pt-6 border-t border-gray-600 flex-shrink-0">
                  <div className="text-center">
                    <p className="text-gray-400 text-sm mb-3">
                      <strong>Powered by YouConnect</strong> - CommSync's trusted digital partner
                    </p>
                    <div className="flex items-center justify-center space-x-6 text-xs text-gray-400">
                      <div className="flex items-center space-x-1">
                        <Shield size={14} className="text-green-400" />
                        <span>Secure Assessment</span>
                      </div>
                      <div className="flex items-center space-x-1">
                        <Globe size={14} className="text-blue-400" />
                        <span>Crisis-Ready Focus</span>
                      </div>
                      <div className="flex items-center space-x-1">
                        <CheckCircle size={14} className="text-primary-blue" />
                        <span>No Spam Promise</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Full Width Complete Crisis Preparedness Ecosystem Section */}
      <div className="mt-16">
        <div className="container mx-auto px-4">
          <div className="bg-dark-background border border-gray-accents rounded-xl p-8">
            <h3 className="text-2xl font-primary font-bold mb-8 text-light-text text-center">
              Complete Crisis Preparedness Ecosystem
            </h3>
            
            {/* Three Column Layout for Desktop */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              {ecosystemBenefits.map((benefit, index) => {
                const IconComponent = benefit.icon;
                return (
                  <div key={index} className="text-center">
                    <div className="flex flex-col items-center space-y-4">
                      <div className="w-16 h-16 bg-gradient-to-r from-primary-blue to-primary-red rounded-full flex items-center justify-center">
                        <IconComponent size={32} className="text-white" />
                      </div>
                      <div>
                        <h4 className="font-semibold text-light-text mb-2 text-lg">{benefit.title}</h4>
                        <p className="text-gray-300 text-sm mb-3 leading-relaxed">{benefit.description}</p>
                        <span className="inline-block px-3 py-1 bg-primary-blue/20 text-primary-blue text-xs font-semibold rounded-full">
                          {benefit.provider}
                        </span>
                      </div>
                    </div>
                  </div>
                );
              })}
            </div>

            {/* Partnership Highlight */}
            <div className="mt-8 p-6 bg-primary-blue/10 rounded-xl border border-primary-blue/30">
              <div className="text-center">
                <p className="text-primary-blue font-semibold text-lg mb-2">
                  ü§ù Complete Crisis Communication Solution
                </p>
                <p className="text-gray-300">
                  <strong>YouConnect</strong> is our trusted digital partner, specializing in crisis-ready digital infrastructure that amplifies your CommSync-trained crisis communication capabilities.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Bottom Integration Message */}
      <div className="mt-16">
        <div className="container mx-auto px-4">
          <div className="p-6 bg-gradient-to-r from-primary-red/10 to-primary-blue/10 rounded-xl border border-gray-accents/30 max-w-4xl mx-auto">
            <h3 className="text-xl font-primary font-bold text-light-text mb-4 text-center">
              Crisis Communication + Digital Foundation = Complete Protection
            </h3>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="text-left">
                <h4 className="font-semibold text-primary-blue mb-2">CommSync Handles:</h4>
                <ul className="space-y-1 text-sm text-gray-300">
                  <li>‚Ä¢ Crisis communication training</li>
                  <li>‚Ä¢ Message development expertise</li>
                  <li>‚Ä¢ Response protocol development</li>
                  <li>‚Ä¢ Team capability building</li>
                </ul>
              </div>
              <div className="text-left">
                <h4 className="font-semibold text-primary-red mb-2">YouConnect Handles:</h4>
                <ul className="space-y-1 text-sm text-gray-300">
                  <li>‚Ä¢ Crisis-ready website infrastructure</li>
                  <li>‚Ä¢ Search visibility optimization</li>
                  <li>‚Ä¢ Social media authority building</li>
                  <li>‚Ä¢ Mobile crisis communication setup</li>
                </ul>
              </div>
            </div>
            <div className="mt-6 p-4 bg-primary-blue/10 rounded border border-primary-blue/30">
              <p className="text-primary-blue font-semibold text-center">
                üéØ Result: Your expert crisis response reaches maximum impact through optimized digital channels
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default DigitalVulnerabilityAssessment;